---
title: Docker从私服中下载镜像遇到的问题
date: 2015-08-29 21:54:24
tags:
- 大数据
- Docker
comments: true
toc: false
---

# Docker从私服中下载镜像遇到的问题

由于从docker1.3.2版本开始默认docker registry使用的是https,并且在centos7和centos6.5中默认开启了SSL安全.因此 如果你的私服搭建到centos7上的话.那么其他的机器如果要从这个私服pull镜像的话,很可能会报错:
`If this private registry supports only HTTP or HTTPS with an unknown CA certificate, please add `--insecure-registry 192.168.112.136:5000` to the daemon's arguments. In the case of HTTPS, if you have access to the registry's CA certificate, no need for the flag; simply place the CA certificate at /etc/docker/certs.d/192.168.112.136:5000/ca.crt`

那么解决的办法就是在连接私服的客户端上,修改docker-server的配置.
具体位置在:ubuntu的 `/etc/init/docker.conf`
		   centos的 `/etc/default/docker`

增加一个:`--insecure-registry 192.168.112.136:5000` 即可. 其中的IP就是私服的IP

具体如下:

- $ sudo vi /etc/init/docker.conf

![](/img/2015/08/29/1.jpg)

修改完之后，重启Docker服务即可

